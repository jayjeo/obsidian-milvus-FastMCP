# Claude MCP를 통한 Obsidian 검색 기능 가이드

Claude Desktop에서 MCP(Model Context Protocol)를 통해 사용할 수 있는 Obsidian 검색 기능들을 소개합니다.

## 🔍 기본 검색 기능

### `search_documents`: 향상된 Obsidian 문서 검색
- **기능**: Obsidian 노트에서 하이브리드 검색 수행 (키워드 + 의미적 검색)
- **특징**: 
  - 기본 검색 결과 200개 (기존 50개에서 대폭 증가)
  - 파일 타입 및 태그 필터링 지원
  - 전체 검색 모드 옵션 (`enable_comprehensive=true`)
- **사용 예시**: "프로젝트 관리 방법론에 대한 노트를 찾아줘"

### `get_document_content`: 특정 문서의 전체 내용 조회
- **기능**: 지정된 파일 경로의 문서 전체 내용을 가져옴
- **특징**: 청크 단위로 분할된 내용을 재조합하여 완전한 문서 제공
- **사용 예시**: "project-planning.md 파일의 전체 내용을 보여줘"

### `get_similar_documents`: 유사 문서 검색
- **기능**: 특정 문서와 유사한 다른 문서들을 찾음
- **특징**: 의미적 유사도 기반, 최대 250개 결과 제공
- **사용 예시**: "이 문서와 비슷한 주제의 다른 노트들을 찾아줘"

## 🧠 지능형 검색 기능

### `auto_search_mode_decision`: 자동 검색 모드 결정
- **기능**: 쿼리를 분석하여 최적의 검색 모드를 자동으로 선택하고 실행
- **특징**: 
  - 쿼리 복잡도 자동 분석
  - 빠른 검색(fast), 균형 검색(balanced), 종합 검색(comprehensive) 중 자동 선택
  - 검색 전략 추천 (키워드, 하이브리드, 의미적 그래프)
- **사용 예시**: "AI와 머신러닝의 차이점을 설명하는 문서들"

### `intelligent_search`: 고급 지능형 검색
- **기능**: Milvus의 고급 기능을 활용한 지능형 검색
- **검색 전략**:
  - **adaptive**: 적응적 청크 검색
  - **hierarchical**: 계층적 검색 (최대 3단계 깊이)
  - **semantic_graph**: 의미적 그래프 검색
  - **multi_modal**: 다중 모달 검색 (첨부파일 포함)
- **특징**: 컨텍스트 확장, 시간 인식 검색 지원
- **사용 예시**: "데이터 과학 프로젝트 프로세스에 대한 포괄적인 분석"

### `intelligent_search_enhanced`: 향상된 지능형 검색
- **기능**: 전체 검색 지원을 포함한 최고급 검색 기능
- **특징**: 
  - 전체 컬렉션 검색 가능 (`enable_full_search=true`)
  - 자동 전략 선택
  - 시간 인식 및 컨텍스트 확장
- **사용 예시**: "회사의 모든 문서에서 마케팅 전략 관련 내용 전부 찾기"

## 📊 고급 검색 및 분석 기능

### `comprehensive_search_all`: 전체 컬렉션 종합 검색
- **기능**: 모든 문서를 대상으로 하는 무제한 검색
- **특징**: 
  - limit 제한 없음
  - 배치 처리로 대용량 검색
  - 유사도 점수 포함
  - 성능 지표 제공
- **사용 예시**: "모든 노트에서 '창의성'과 관련된 모든 내용 찾기"

### `batch_search_with_pagination`: 배치 페이지네이션 검색
- **기능**: 페이지 단위로 나누어 대용량 검색 수행
- **특징**: 
  - 페이지별 검색 결과 제공
  - 하이브리드/키워드 검색 모드 선택
  - 진행 상황 모니터링
- **사용 예시**: "대용량 노트 컬렉션에서 단계별로 검색 수행"

### `advanced_filter_search`: 고급 메타데이터 필터 검색
- **기능**: Milvus의 강력한 메타데이터 필터링 활용
- **필터 옵션**:
  - 시간 범위 (`time_range`)
  - 태그 로직 (`tag_logic`) 
  - 파일 크기 범위 (`file_size_range`)
  - 최소 콘텐츠 품질 (`min_content_quality`)
  - 최소 관련성 점수 (`min_relevance_score`)
- **특징**: 최대 300개 결과 제공
- **사용 예시**: "2023년에 작성된 프로젝트 태그가 있는 고품질 문서들"

### `multi_query_fusion_search`: 다중 쿼리 융합 검색
- **기능**: 여러 검색어를 융합하여 더 정확한 결과 제공
- **융합 방법**: 가중치 기반 (`weighted`) 융합
- **특징**: 
  - 개별 검색 250개, 최종 결과 500개
  - 쿼리 커버리지 분석
  - 점수 분포 통계
- **사용 예시**: "AI", "머신러닝", "딥러닝" 키워드를 융합한 종합 검색

## 🕸️ 지식 그래프 및 연결성 검색

### `knowledge_graph_exploration`: 지식 그래프 탐색
- **기능**: 특정 문서를 시작점으로 한 지식 그래프 구축 및 탐색
- **특징**:
  - 탐색 깊이 설정 (기본 2단계)
  - 최대 200개 연결점
  - 의미적 유사도 기반 연결
  - 클러스터 분석 포함
- **사용 예시**: "machine-learning.md에서 시작하는 관련 개념 네트워크 탐색"

### `milvus_knowledge_graph_builder`: Milvus 기반 지식 그래프 구축
- **기능**: 벡터 유사도를 기반으로 한 고급 지식 그래프 생성
- **특징**:
  - 최대 250개 노드 (기존 50개에서 대폭 증가)
  - 3단계 깊이 탐색
  - 의미적 클러스터링
  - 다중 홉 탐색
- **사용 예시**: "데이터 분석 문서들 간의 의미적 연결 관계 시각화"

## 🔧 시스템 및 관리 기능

### `milvus_power_search`: Milvus 최적화 파워 검색
- **기능**: Milvus의 모든 최적화 기능을 활용한 고성능 검색
- **검색 모드**:
  - **fast**: 빠른 검색 (ef=64, nprobe=8)
  - **balanced**: 균형 검색 (ef=128, nprobe=16) 
  - **precise**: 정밀 검색 (ef=256, nprobe=32)
  - **adaptive**: 자동 적응 모드
- **특징**: GPU 가속, 메타데이터 필터링, 최대 300개 결과
- **사용 예시**: "최고 성능으로 복잡한 기술 문서 검색"

### `get_collection_stats`: 컬렉션 통계 정보
- **기능**: Milvus 컬렉션의 전체 통계 및 현황 제공
- **제공 정보**:
  - 전체 문서 수
  - 파일 타입 분포
  - 상위 20개 태그 (기존 10개에서 증가)
  - 최근 문서 목록
  - 최적화 상태
- **사용 예시**: "현재 노트 컬렉션의 전체 현황 보고서"

## 🏷️ 태그 기반 검색

### `search_by_tags`: 태그별 문서 검색
- **기능**: 특정 태그를 가진 문서들을 검색
- **특징**: 
  - 다중 태그 검색 지원
  - 매칭된 태그 표시
  - 최대 300개 결과 (기존 50개에서 증가)
- **사용 예시**: "project, planning 태그가 있는 모든 문서"

### `list_available_tags`: 사용 가능한 태그 목록
- **기능**: 컬렉션의 모든 태그와 사용 빈도 제공
- **특징**: 
  - 상위 200개 태그 (기존 50개에서 증가)
  - 문서 개수별 정렬
  - 5000개 문서에서 태그 수집
- **사용 예시**: "가장 많이 사용된 태그들과 태그별 문서 수"

## 📈 성능 분석 및 최적화

### `performance_optimization_analysis`: 성능 최적화 분석
- **기능**: Milvus 성능 분석 및 최적화 권장사항 제공
- **분석 항목**:
  - 인덱스 성능 모니터링
  - 벤치마크 결과
  - 검색 패턴 분석
  - GPU 최적화 상태
- **사용 예시**: "현재 검색 시스템의 성능 분석 및 개선 방안"

### `milvus_system_optimization_report`: 시스템 최적화 종합 보고서
- **기능**: Milvus 시스템 전체의 최적화 상태 종합 분석
- **제공 정보**:
  - 시스템 통계
  - 성능 벤치마크
  - 최적화 점수 (100점 만점)
  - 새로운 기능 활성화 상태
- **사용 예시**: "시스템 전체의 최적화 현황과 개선 점수"

## 💡 사용 팁

### 검색 성능 최적화
1. **간단한 검색**: `search_documents` 사용
2. **포괄적 검색**: `comprehensive_search_all` 사용
3. **자동 최적화**: `auto_search_mode_decision` 사용
4. **고성능 필요시**: `milvus_power_search` 사용

### 검색 범위별 추천
- **일반 검색**: 200-300개 결과로 충분
- **연구/분석**: `comprehensive_search_all`로 전체 검색
- **관계 분석**: `knowledge_graph_exploration` 활용
- **다각도 분석**: `multi_query_fusion_search` 활용

### 향상된 기능들
모든 검색 기능의 기본 limit이 **50개에서 200-500개로 대폭 증가**하여 더 포괄적인 검색 결과를 제공합니다. 전체 검색 모드를 지원하는 기능들을 통해 누락 없는 완전한 검색이 가능합니다.

---
*이 가이드는 Obsidian-Milvus FastMCP 서버의 최신 기능들을 기반으로 작성되었습니다.*